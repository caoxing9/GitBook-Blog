# tree com

## 前言

工作已经3月有余，也做了些许项目，封装过一些组件，我一直在思考，到底什么样的组件才能算的上一个不错的组件。最近，我遇到一个问题，公司内封装的树形组件不太适用于项目的新需求，于是我开始重写一个树形组件。[组件链接](https://github.com/Mikeccx/TreeWidght)

## 准备

在写这个树形组件之前，我放弃了以前，直接开始写的习惯，我尝试先把整个流程业务逻辑理清。既是一个树形组件，数据结构自然是树，通常我们在遍历一颗树的方法是递归，于是，我顺利成章地打算用vue的递归组件实现。

## 尝试

学习过一段时间es6，但是一直没找到机会实践，这回机会来了，我觉得树形结构特别适用es6的class类来写。将树的特性方法写在类里方便调用修改。我觉察到面向对象编程的美妙感觉。

## 问题

1. 在vue组件递归使用上，开始我将子组件用v-if进行渲染，然后每次，我点击其中一个节点让它反复的隐藏显示，数据每次都重置为初始态，没有被我改变，原因是，v-if每次都是重新渲染，数据自然没有更新。通过修改为v-show解决。
